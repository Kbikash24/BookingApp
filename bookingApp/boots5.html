<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script  defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<link rel="stylesheet" href="boots5.css">
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>


</head>
<body>

    <div class="container">
        <h2>Book for Call</h2>
        <p>
        Book a call slot and our representative will call you within one hour of selected time.
        </p>
        <form action="#" onsubmit="registeruser()" novalidate>
        
        <div class="form-floating"> 
            <input type="text" class="form-control"  placeholder="name" id="name" required>
        
            <label for="Email" class="form-label">Name</label>
        </div>
            <div class="form-floating">  
                <input type="email" class="form-control"  placeholder="email" id="email"required>
                
                <label for="Email" class="form-label">Email</label>
            </div>
                <div class="form-floating"> 
                    <input type="tel" placeholder="mobilr" class="form-control" placehoder="mob" id="tel" required>
                    
                    <label for="tel" class="form-label">Mobile</label>
                    <i class='far fa-clock'></i>
                </div>
                <label for="">Time for call</label>
                <div class="row  row-cols-lg-2">
                    <div class="col">
                       
                    <input type="date" placeholder="date" class="form-control" id="date" required>
                    <i class='far fa-calendar-alt'></i>
                    </div>
                    <div class="col"><input type="time" placeholder="time" class="form-control" id="time" required></div>
                    
                    
               </div>  
            
               <button class="btn btn-primary btn-lg">submit</button>
               <div id="message"></div>

               
        </form>
        <div id="output"></div>
    </div>
    
       <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.js"></script>
   

    <script>
         
         const form = document.querySelector("form")
    form.addEventListener('submit',e => {
        if(!form.checkValidity()){
            e.preventDefault() }
form.classList.add('was-validated')
        })
            </script>
        
        <script>
           function registeruser() {
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('tel').value;
    const date = document.getElementById('date').value;
    const time = document.getElementById('time').value;
    
    // create a data object to send in the POST request
    const data = {
        name: name,
        email: email,
        phone: phone,
        date: date,
        time: time
    };
    
    // make a POST request using Axios
    axios.post('https://crudcrud.com/api/3bc2ccda62484a9384df3b544f182d76/appointmentData', data)
         .then(response => {
             console.log(response.data);
             // show success message or redirect to thank you page
             const message = response.data.name + ' has been registered successfully.';
        document.getElementById('message').innerHTML = message;
        const outputDiv = document.getElementById("output");
        outputDiv.innerHTML = `
          <p>Name: ${name}</p>
          <p>Email: ${email}</p>
          <p>Mobile: ${phone}</p>
          <p>Date: ${date}</p>
          <p>Time: ${time}</p>
        
        `;
         })
         .catch(error => {
             console.error(error);
             // show error message or handle error
             const messageElement = document.getElementById('message');
             messageElement.innerHTML = '<div class="alert alert-danger" role="alert">There was an error booking the call.</div>';
         });
}

        </script>         
  </body>
</html>